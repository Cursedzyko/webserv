<!DOCTYPE html>
<html>
<head>
    <title>Chunked Encoding Test</title>
</head>
<body>
    <h1>Chunked Encoding Test</h1>
    <button id="sendRequest">Send Chunked Request</button>
    <pre id="responseLog"></pre>

    <script>
        document.getElementById('sendRequest').addEventListener('click', async () => {
            const responseLog = document.getElementById('responseLog');
            responseLog.textContent = ''; // Clear previous logs
            
            const url = 'http://127.0.0.1:7011/'; // Replace with your server's URL

            try {
                const response = await fetch(url);
                const reader = response.body.getReader();

                while (true) {
                    const { done, value } = await reader.read();
                    if (done) {
                        break;
                    }
                    responseLog.textContent += String.fromCharCode.apply(null, value);
                }
            } catch (error) {
                responseLog.textContent = `Error: ${error}`;
            }
        });
    </script>
</body>
</html>
